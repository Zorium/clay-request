TODO: compile to js, and tests, and docs
